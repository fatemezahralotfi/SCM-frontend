{"ast":null,"code":"/*\n * Copyright 2012-2016 the original author or authors\n * @license MIT, see LICENSE.txt for details\n *\n * @author Scott Andrews\n */\n'use strict';\n\nvar mime, registry;\nmime = require('../mime');\n\nfunction Registry(mimes) {\n  /**\n   * Lookup the converter for a MIME type\n   *\n   * @param {string} type the MIME type\n   * @return a promise for the converter\n   */\n  this.lookup = function lookup(type) {\n    var parsed;\n    parsed = typeof type === 'string' ? mime.parse(type) : type;\n\n    if (mimes[parsed.raw]) {\n      return mimes[parsed.raw];\n    }\n\n    if (mimes[parsed.type + parsed.suffix]) {\n      return mimes[parsed.type + parsed.suffix];\n    }\n\n    if (mimes[parsed.type]) {\n      return mimes[parsed.type];\n    }\n\n    if (mimes[parsed.suffix]) {\n      return mimes[parsed.suffix];\n    }\n\n    return Promise.reject(new Error('Unable to locate converter for mime \"' + parsed.raw + '\"'));\n  };\n  /**\n   * Create a late dispatched proxy to the target converter.\n   *\n   * Common when a converter is registered under multiple names and\n   * should be kept in sync if updated.\n   *\n   * @param {string} type mime converter to dispatch to\n   * @returns converter whose read/write methods target the desired mime converter\n   */\n\n\n  this.delegate = function delegate(type) {\n    return {\n      read: function () {\n        var args = arguments;\n        return this.lookup(type).then(function (converter) {\n          return converter.read.apply(this, args);\n        }.bind(this));\n      }.bind(this),\n      write: function () {\n        var args = arguments;\n        return this.lookup(type).then(function (converter) {\n          return converter.write.apply(this, args);\n        }.bind(this));\n      }.bind(this)\n    };\n  };\n  /**\n   * Register a custom converter for a MIME type\n   *\n   * @param {string} type the MIME type\n   * @param converter the converter for the MIME type\n   * @return a promise for the converter\n   */\n\n\n  this.register = function register(type, converter) {\n    mimes[type] = Promise.resolve(converter);\n    return mimes[type];\n  };\n  /**\n   * Create a child registry whoes registered converters remain local, while\n   * able to lookup converters from its parent.\n   *\n   * @returns child MIME registry\n   */\n\n\n  this.child = function child() {\n    return new Registry(Object.create(mimes));\n  };\n}\n\nregistry = new Registry({}); // include provided serializers\n\nregistry.register('application/hal', require('./type/application/hal'));\nregistry.register('application/json', require('./type/application/json'));\nregistry.register('application/x-www-form-urlencoded', require('./type/application/x-www-form-urlencoded'));\nregistry.register('multipart/form-data', require('./type/multipart/form-data'));\nregistry.register('text/plain', require('./type/text/plain'));\nregistry.register('+json', registry.delegate('application/json'));\nmodule.exports = registry;","map":{"version":3,"sources":["/Users/fatemezahralotfi/IdeaProjects/SCM-frontend/node_modules/rest/mime/registry.js"],"names":["mime","registry","require","Registry","mimes","lookup","type","parsed","parse","raw","suffix","Promise","reject","Error","delegate","read","args","arguments","then","converter","apply","bind","write","register","resolve","child","Object","create","module","exports"],"mappings":"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","sourcesContent":["/*\n * Copyright 2012-2016 the original author or authors\n * @license MIT, see LICENSE.txt for details\n *\n * @author Scott Andrews\n */\n\n'use strict';\n\nvar mime, registry;\n\nmime = require('../mime');\n\nfunction Registry(mimes) {\n\n\t/**\n\t * Lookup the converter for a MIME type\n\t *\n\t * @param {string} type the MIME type\n\t * @return a promise for the converter\n\t */\n\tthis.lookup = function lookup(type) {\n\t\tvar parsed;\n\n\t\tparsed = typeof type === 'string' ? mime.parse(type) : type;\n\n\t\tif (mimes[parsed.raw]) {\n\t\t\treturn mimes[parsed.raw];\n\t\t}\n\t\tif (mimes[parsed.type + parsed.suffix]) {\n\t\t\treturn mimes[parsed.type + parsed.suffix];\n\t\t}\n\t\tif (mimes[parsed.type]) {\n\t\t\treturn mimes[parsed.type];\n\t\t}\n\t\tif (mimes[parsed.suffix]) {\n\t\t\treturn mimes[parsed.suffix];\n\t\t}\n\n\t\treturn Promise.reject(new Error('Unable to locate converter for mime \"' + parsed.raw + '\"'));\n\t};\n\n\t/**\n\t * Create a late dispatched proxy to the target converter.\n\t *\n\t * Common when a converter is registered under multiple names and\n\t * should be kept in sync if updated.\n\t *\n\t * @param {string} type mime converter to dispatch to\n\t * @returns converter whose read/write methods target the desired mime converter\n\t */\n\tthis.delegate = function delegate(type) {\n\t\treturn {\n\t\t\tread: function () {\n\t\t\t\tvar args = arguments;\n\t\t\t\treturn this.lookup(type).then(function (converter) {\n\t\t\t\t\treturn converter.read.apply(this, args);\n\t\t\t\t}.bind(this));\n\t\t\t}.bind(this),\n\t\t\twrite: function () {\n\t\t\t\tvar args = arguments;\n\t\t\t\treturn this.lookup(type).then(function (converter) {\n\t\t\t\t\treturn converter.write.apply(this, args);\n\t\t\t\t}.bind(this));\n\t\t\t}.bind(this)\n\t\t};\n\t};\n\n\t/**\n\t * Register a custom converter for a MIME type\n\t *\n\t * @param {string} type the MIME type\n\t * @param converter the converter for the MIME type\n\t * @return a promise for the converter\n\t */\n\tthis.register = function register(type, converter) {\n\t\tmimes[type] = Promise.resolve(converter);\n\t\treturn mimes[type];\n\t};\n\n\t/**\n\t * Create a child registry whoes registered converters remain local, while\n\t * able to lookup converters from its parent.\n\t *\n\t * @returns child MIME registry\n\t */\n\tthis.child = function child() {\n\t\treturn new Registry(Object.create(mimes));\n\t};\n\n}\n\nregistry = new Registry({});\n\n// include provided serializers\nregistry.register('application/hal', require('./type/application/hal'));\nregistry.register('application/json', require('./type/application/json'));\nregistry.register('application/x-www-form-urlencoded', require('./type/application/x-www-form-urlencoded'));\nregistry.register('multipart/form-data', require('./type/multipart/form-data'));\nregistry.register('text/plain', require('./type/text/plain'));\n\nregistry.register('+json', registry.delegate('application/json'));\n\nmodule.exports = registry;\n"]},"metadata":{},"sourceType":"script"}